{% extends 'base.html' %}
{% load static %}
<script src="{% static 'js/vendor/three.min.js' %}"></script>
<link href="{% static 'css/vendor/fontawesome.min.css' %}" rel="stylesheet">
<link href="{% static 'css/vendor/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'css/vendor/fontawesome.min.css' %}" rel="stylesheet">3
<link href="{% static 'css/promo.css' %}" rel="stylesheet">
{% block title %}TechNova Solutions - Tecnolog√≠a Premium{% endblock %}

{% block content %}
<!-- Promo Banner -->
    <div class="promo-banner">
        <span class="badge">¬°OFERTA ESPECIAL!</span>
        Obt√©n hasta 40% de descuento en productos seleccionados. <a href="{% url 'products:sale' %}">Ver ofertas</a>
    </div>

    <!-- Contenedor de notificaciones promocionales -->
    <div id="promo-notifications-container"></div>
    
    <!-- Data para las notificaciones (invisible) -->
    <script id="promo-data" type="application/json">
    [
        {% for product in sale_products %}
        {
            "title": "üî• ¬°Oferta Especial!",
            "message": "{{ product.name }} - ¬°Ahorra ahora!",
            "price": "${{ product.price }}",
            "oldPrice": "{% if product.compare_at_price %}${{ product.compare_at_price }}{% endif %}",
            "discount": "{{ product.discount_percentage }}%",
            "image": "{{ product.primary_image.url }}",
            "link": "{% url 'products:detail' product.category.slug product.slug %}"
        }{% if not forloop.last %},{% endif %}
        {% endfor %}
        {% if not sale_products %}
        {
            "title": "üéâ ¬°Bienvenido a TechNova!",
            "message": "Descubre los mejores productos tecnol√≥gicos",
            "price": "",
            "oldPrice": "",
            "discount": "Hasta 40% OFF",
            "image": "",
            "link": "{% url 'products:sale' %}"
        },
        {
            "title": "‚ö° Env√≠o Gratis",
            "message": "En compras mayores a $100",
            "price": "",
            "oldPrice": "",
            "discount": "Promoci√≥n",
            "image": "",
            "link": "{% url 'products:all' %}"
        },
        {
            "title": "üéÅ Ofertas Especiales",
            "message": "Nuevos productos cada semana",
            "price": "",
            "oldPrice": "",
            "discount": "Ver m√°s",
            "image": "",
            "link": "{% url 'products:sale' %}"
        }
        {% endif %}
    ]
    </script>

    <!-- Hero Section -->
    <div class="hero-container">
        <!-- 3D Canvas Background -->
        <canvas id="canvas3d"></canvas>

        <!-- Animated Particles -->
        <div class="particles" id="particles"></div>

        <!-- Floating Tech Icons -->
        <div class="floating-icons">
            <div class="floating-icon"><i class="fas fa-microchip"></i></div>
            <div class="floating-icon"><i class="fas fa-wifi"></i></div>
            <div class="floating-icon"><i class="fas fa-cloud"></i></div>
            <div class="floating-icon"><i class="fas fa-bolt"></i></div>
            <div class="floating-icon"><i class="fas fa-rocket"></i></div>
            <div class="floating-icon"><i class="fas fa-star"></i></div>
        </div>

        <!-- Waves Animation -->
        <div class="waves">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
        </div>

        <!-- Hero Content -->
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="word">Tecnolog√≠a</span>
                <span class="word">Premium</span>
                <span class="word">para</span>
                <span class="word">Tu</span>
                <span class="word">Vida</span>
            </h1>
            <p class="hero-subtitle">
                Descubre los mejores productos tecnol√≥gicos con precios incre√≠bles y garant√≠a de calidad
            </p>
            <div class="hero-buttons">
                <a href="{% url 'products:all' %}" class="hero-btn btn-primary">
                    <span><i class="fas fa-shopping-bag"></i> Explorar Tienda</span>
                </a>
                <a href="{% url 'products:sale' %}" class="hero-btn btn-secondary">
                    <span><i class="fas fa-fire"></i> Ver Ofertas</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Trust Badges Section -->
    <section class="trust-section">
        <div class="trust-badges">
            <div class="trust-badge">
                <i class="fas fa-truck"></i>
                <h4>Env√≠o Gratis</h4>
                <p>En compras mayores a $100</p>
            </div>
            <div class="trust-badge">
                <i class="fas fa-shield-alt"></i>
                <h4>Compra Segura</h4>
                <p>Pago 100% protegido</p>
            </div>
            <div class="trust-badge">
                <i class="fas fa-sync-alt"></i>
                <h4>Devoluciones Gratis</h4>
                <p>30 d√≠as de garant√≠a</p>
            </div>
            <div class="trust-badge">
                <i class="fas fa-headset"></i>
                <h4>Soporte 24/7</h4>
                <p>Atenci√≥n al cliente siempre</p>
            </div>
        </div>
    </section>

    <!-- Categor√≠as Destacadas -->
    <div class="container">
        <!-- Categor√≠as Destacadas -->
        <section class="mb-5 mt-5">
            <div class="section-title">
                <h2>Categor√≠as Principales</h2>
                <p>Explora nuestros productos por categor√≠a</p>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <a href="{% url 'products:category' 'smartphones' %}" class="category-card gradient-blue">
                        <i class="fas fa-mobile-alt"></i>
                        <h3>Smartphones</h3>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="{% url 'products:category' 'laptops' %}" class="category-card gradient-purple">
                        <i class="fas fa-laptop"></i>
                        <h3>Laptops</h3>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="{% url 'products:category' 'tablets' %}" class="category-card gradient-cyan">
                        <i class="fas fa-tablet-alt"></i>
                        <h3>Tablets</h3>
                    </a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <a href="{% url 'products:category' 'audio-video' %}" class="category-card gradient-orange">
                        <i class="fas fa-headphones"></i>
                        <h3>Audio & Video</h3>
                    </a>
                </div>
            </div>
        </section>

        <!-- Ofertas Destacadas -->
        <section class="mb-5" id="ofertas">
            <div class="section-title">
                <h2>‚ö° Ofertas Flash</h2>
                <p>Los mejores descuentos disponibles ahora</p>
            </div>
            {% if sale_products %}
            <div class="row g-4">
                {% for product in sale_products %}
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="product-card h-100">
                        <div class="product-image position-relative">
                            <img src="{{ product.primary_image.url }}" alt="{{ product.name }}">
                            <div class="sale-badge">
                                <span class="badge bg-danger">{{ product.discount_percentage|default:"%" }}</span>
                            </div>
                            <div class="product-actions position-absolute top-0 end-0 p-2">
                                <button class="btn btn-sm wishlist-btn">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <h5 class="product-name">{{ product.name }}</h5>
                            <div class="product-price mb-2">
                                {% if product.compare_at_price %}
                                <span class="text-decoration-line-through text-muted">${{ product.compare_at_price }}</span>
                                {% endif %}
                                <span class="text-danger ms-2">${{ product.price }}</span>
                            </div>
                            <div class="product-rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <span class="text-muted small ms-1">(128)</span>
                            </div>
                            <a href="{% url 'products:detail' product.category.slug product.slug %}" class="btn btn-primary w-100 btn-sm">
                                <i class="fas fa-eye me-1"></i>Ver Detalles
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-muted">No hay ofertas disponibles en este momento.</p>
            {% endif %}
        </section>

        <!-- Mejor Valorados -->
        <section class="mb-5">
            <div class="section-title">
                <h2>‚≠ê Mejor Valorados</h2>
                <p>Los productos mejor calificados por nuestros clientes</p>
            </div>
            
            <div class="row g-4">
                <!-- Producto 5 -->
                <div class="col-lg-4 col-md-6">
                    <div class="product-card h-100">
                        <div class="product-image position-relative">
                            <img src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop" 
                                alt="Galaxy S24">
                            <div class="product-actions position-absolute top-0 end-0 p-2">
                                <button class="btn btn-sm wishlist-btn">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <h5 class="product-name">Lentes Nauth Bluetooth Model 3</h5>
                            <div class="product-price mb-2">
                                <span>$1,199</span>
                            </div>
                            <div class="product-rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <span class="text-muted small ms-1">(342)</span>
                            </div>
                            <a href="#" class="btn btn-primary w-100 btn-sm">
                                <i class="fas fa-eye me-1"></i>Ver Detalles
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Producto 6 -->
                <div class="col-lg-4 col-md-6">
                    <div class="product-card h-100">
                        <div class="product-image position-relative">
                            <img src="https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?w=500&h=500&fit=crop" 
                                alt="Dell XPS">
                            <div class="product-actions position-absolute top-0 end-0 p-2">
                                <button class="btn btn-sm wishlist-btn">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <h5 class="product-name">Dell XPS 15 Intel i9 32GB RAM</h5>
                            <div class="product-price mb-2">
                                <span>$2,299</span>
                            </div>
                            <div class="product-rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <span class="text-muted small ms-1">(198)</span>
                            </div>
                            <a href="#" class="btn btn-primary w-100 btn-sm">
                                <i class="fas fa-eye me-1"></i>Ver Detalles
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Producto 7 -->
                <div class="col-lg-4 col-md-6">
                    <div class="product-card h-100">
                        <div class="product-image position-relative">
                            <img src="https://images.unsplash.com/photo-1585790050230-5dd28404ccb9?w=500&h=500&fit=crop" 
                                alt="Sony WH-1000XM5">
                            <div class="product-actions position-absolute top-0 end-0 p-2">
                                <button class="btn btn-sm wishlist-btn">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        <div class="product-info">
                            <h5 class="product-name">Sony WH-1000XM5 Bluetooth NC</h5>
                            <div class="product-price mb-2">
                                <span>$399</span>
                            </div>
                            <div class="product-rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <span class="text-muted small ms-1">(567)</span>
                            </div>
                            <a href="#" class="btn btn-primary w-100 btn-sm">
                                <i class="fas fa-eye me-1"></i>Ver Detalles
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
</div>
{% endblock %}

{% block extra_js %}
<!-- Three.js desde CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<!-- Tu JavaScript personalizado -->
<script src="{% static 'js/technova-animations.js' %}"></script>
<script src="{% static 'js/promo.js' %}"></script>
{% endblock %}

